{{- if .Values.letsEncrypt.enabled }}
{{- if and .Values.letsEncrypt.providers.cloudflare .Values.letsEncrypt.providers.cloudflare.enabled }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "provider.fullname" . }}-cloudflare-dns
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "provider.labels" . | nindent 4 }}
type: Opaque
data:
  CF_DNS_API_TOKEN: {{ .Values.letsEncrypt.providers.cloudflare.apiToken | b64enc }}
{{- end }}

{{- if and .Values.letsEncrypt.providers.googleCloud .Values.letsEncrypt.providers.googleCloud.enabled }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "provider.fullname" . }}-gcp-dns
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "provider.labels" . | nindent 4 }}
type: Opaque
data:
  service-account.json: {{ .Values.letsEncrypt.providers.googleCloud.serviceAccount.content | b64enc }}
{{- end }}
{{- end }}
